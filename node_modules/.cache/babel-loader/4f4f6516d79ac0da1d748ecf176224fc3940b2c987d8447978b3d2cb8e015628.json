{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaop\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\Lugaiff\\\\src\\\\components\\\\MapViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport { buildRoutePath } from \"../utils/routeUtils\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MapViewer({\n  layer,\n  hotspots,\n  selectedHotspotId,\n  onHotspotSelect,\n  routePoints,\n  transformRef\n}) {\n  _s();\n  const routePath = useMemo(() => buildRoutePath(routePoints), [routePoints]);\n  const hasRoute = (routePoints === null || routePoints === void 0 ? void 0 : routePoints.length) > 1;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative h-screen w-screen overflow-hidden bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 map-touch-layer\",\n    children: /*#__PURE__*/_jsxDEV(TransformWrapper, {\n      ref: transformRef,\n      minScale: 0.01,\n      maxScale: 40,\n      initialScale: 0.5,\n      wheel: {\n        step: 0.08\n      },\n      pinch: {\n        step: 6\n      },\n      panning: {\n        velocityDisabled: true\n      },\n      doubleClick: {\n        disabled: true\n      },\n      children: ({\n        zoomIn,\n        zoomOut,\n        resetTransform\n      }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-10 left-1/2 z-20 -translate-x-1/2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 rounded-full border border-white/20 bg-white/10 px-6 py-3 text-white backdrop-blur-2xl shadow-soft\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"h-10 w-10 rounded-full bg-white/20 text-lg font-bold hover:bg-white/30\",\n              onClick: () => zoomIn(0.5),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"h-10 w-10 rounded-full bg-white/20 text-lg font-bold hover:bg-white/30\",\n              onClick: () => zoomOut(0.5),\n              children: \"\\u2212\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"h-10 rounded-full bg-white/10 px-5 text-xs font-semibold uppercase tracking-wide hover:bg-white/20\",\n              onClick: () => resetTransform(0.4),\n              children: \"Resetar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TransformComponent, {\n          wrapperClass: \"h-full w-full\",\n          contentClass: \"h-full w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative h-screen w-screen select-none\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: layer.imagePath,\n              alt: layer.name,\n              className: \"block h-screen w-screen object-cover\",\n              draggable: false,\n              onError: () => {\n                console.warn(\"Imagem não encontrada:\", layer.imagePath);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"pointer-events-none absolute inset-0 h-full w-full\",\n              viewBox: \"0 0 100 100\",\n              preserveAspectRatio: \"none\",\n              children: hasRoute ? /*#__PURE__*/_jsxDEV(\"path\", {\n                d: routePath,\n                fill: \"none\",\n                stroke: \"#34d399\",\n                strokeWidth: \"1.2\",\n                strokeLinejoin: \"round\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0\",\n              children: hotspots.map(spot => {\n                var _spot$label;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: `group absolute -translate-x-1/2 -translate-y-1/2 rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-wide backdrop-blur ${selectedHotspotId === spot.id ? \"border-emerald-300 bg-emerald-400/90 text-slate-900 shadow-soft\" : \"border-white/40 bg-white/20 text-white hover:bg-white/30\"}`,\n                  style: {\n                    left: `${spot.xPercent}%`,\n                    top: `${spot.yPercent}%`\n                  },\n                  onClick: () => onHotspotSelect === null || onHotspotSelect === void 0 ? void 0 : onHotspotSelect(spot.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"pointer-events-none\",\n                    children: (_spot$label = spot.label) !== null && _spot$label !== void 0 ? _spot$label : \"Hotspot\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"pointer-events-none absolute left-1/2 top-full mt-2 hidden -translate-x-1/2 whitespace-nowrap rounded-lg bg-slate-900/80 px-2 py-1 text-[10px] text-white shadow-soft group-hover:block\",\n                    children: spot.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this)]\n                }, spot.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n_s(MapViewer, \"lUiI1vFsz+IlPoMOEBgQRDNFcls=\");\n_c = MapViewer;\nexport default MapViewer;\nvar _c;\n$RefreshReg$(_c, \"MapViewer\");","map":{"version":3,"names":["React","useMemo","TransformWrapper","TransformComponent","buildRoutePath","jsxDEV","_jsxDEV","Fragment","_Fragment","MapViewer","layer","hotspots","selectedHotspotId","onHotspotSelect","routePoints","transformRef","_s","routePath","hasRoute","length","className","children","ref","minScale","maxScale","initialScale","wheel","step","pinch","panning","velocityDisabled","doubleClick","disabled","zoomIn","zoomOut","resetTransform","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","wrapperClass","contentClass","src","imagePath","alt","name","draggable","onError","console","warn","viewBox","preserveAspectRatio","d","fill","stroke","strokeWidth","strokeLinejoin","strokeLinecap","map","spot","_spot$label","id","style","left","xPercent","top","yPercent","label","title","_c","$RefreshReg$"],"sources":["C:/Users/joaop/OneDrive/Área de Trabalho/Lugaiff/src/components/MapViewer.js"],"sourcesContent":["import React, { useMemo } from \"react\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport { buildRoutePath } from \"../utils/routeUtils\";\r\n\r\nfunction MapViewer({ layer, hotspots, selectedHotspotId, onHotspotSelect, routePoints, transformRef }) {\r\n  const routePath = useMemo(() => buildRoutePath(routePoints), [routePoints]);\r\n  const hasRoute = routePoints?.length > 1;\r\n\r\n  return (\r\n    <div className=\"relative h-screen w-screen overflow-hidden bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 map-touch-layer\">\r\n      <TransformWrapper\r\n        ref={transformRef}\r\n        minScale={0.01}\r\n        maxScale={40}\r\n        initialScale={0.5}\r\n        wheel={{ step: 0.08 }}\r\n        pinch={{ step: 6 }}\r\n        panning={{ velocityDisabled: true }}\r\n        doubleClick={{ disabled: true }}\r\n      >\r\n        {({ zoomIn, zoomOut, resetTransform }) => (\r\n          <>\r\n            <div className=\"absolute bottom-10 left-1/2 z-20 -translate-x-1/2\">\r\n              <div className=\"flex items-center gap-3 rounded-full border border-white/20 bg-white/10 px-6 py-3 text-white backdrop-blur-2xl shadow-soft\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"h-10 w-10 rounded-full bg-white/20 text-lg font-bold hover:bg-white/30\"\r\n                  onClick={() => zoomIn(0.5)}\r\n                >\r\n                  +\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"h-10 w-10 rounded-full bg-white/20 text-lg font-bold hover:bg-white/30\"\r\n                  onClick={() => zoomOut(0.5)}\r\n                >\r\n                  −\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"h-10 rounded-full bg-white/10 px-5 text-xs font-semibold uppercase tracking-wide hover:bg-white/20\"\r\n                  onClick={() => resetTransform(0.4)}\r\n                >\r\n                  Resetar\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <TransformComponent wrapperClass=\"h-full w-full\" contentClass=\"h-full w-full\">\r\n              <div className=\"relative h-screen w-screen select-none\">\r\n                <img\r\n                  src={layer.imagePath}\r\n                  alt={layer.name}\r\n                  className=\"block h-screen w-screen object-cover\"\r\n                  draggable={false}\r\n                  onError={() => {\r\n                    console.warn(\"Imagem não encontrada:\", layer.imagePath);\r\n                  }}\r\n                />\r\n                <svg\r\n                  className=\"pointer-events-none absolute inset-0 h-full w-full\"\r\n                  viewBox=\"0 0 100 100\"\r\n                  preserveAspectRatio=\"none\"\r\n                >\r\n                  {hasRoute ? (\r\n                    <path\r\n                      d={routePath}\r\n                      fill=\"none\"\r\n                      stroke=\"#34d399\"\r\n                      strokeWidth=\"1.2\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeLinecap=\"round\"\r\n                    />\r\n                  ) : null}\r\n                </svg>\r\n\r\n                <div className=\"absolute inset-0\">\r\n                  {hotspots.map((spot) => (\r\n                    <button\r\n                      key={spot.id}\r\n                      type=\"button\"\r\n                      className={`group absolute -translate-x-1/2 -translate-y-1/2 rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-wide backdrop-blur ${\r\n                        selectedHotspotId === spot.id\r\n                          ? \"border-emerald-300 bg-emerald-400/90 text-slate-900 shadow-soft\"\r\n                          : \"border-white/40 bg-white/20 text-white hover:bg-white/30\"\r\n                      }`}\r\n                      style={{\r\n                        left: `${spot.xPercent}%`,\r\n                        top: `${spot.yPercent}%`\r\n                      }}\r\n                      onClick={() => onHotspotSelect?.(spot.id)}\r\n                    >\r\n                      <span className=\"pointer-events-none\">{spot.label ?? \"Hotspot\"}</span>\r\n                      <span className=\"pointer-events-none absolute left-1/2 top-full mt-2 hidden -translate-x-1/2 whitespace-nowrap rounded-lg bg-slate-900/80 px-2 py-1 text-[10px] text-white shadow-soft group-hover:block\">\r\n                        {spot.title}\r\n                      </span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </TransformComponent>\r\n          </>\r\n        )}\r\n      </TransformWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}